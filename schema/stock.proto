syntax = "proto3";

package pegscanner.stock;

// Represents a stock or other financial instrument.
message Stock {
  string symbol = 1;      // Stock ticker symbol (e.g., "AAPL")
  string name = 2;        // Full company name (e.g., "Apple Inc.")
  string exchange = 3;    // Exchange where the stock is traded (e.g., "NASDAQ")
  string currency = 4;    // Currency of the stock (e.g., "USD")
  CompanyInfo company_info = 5; // Detailed company information
  // Add other common stock identifiers or metadata as needed
}

// Represents K-line (candlestick) data for a specific time period.
message KLineData {
  int64 timestamp = 1;    // Unix timestamp of the data point (e.g., start of day)
  double open = 2;        // Opening price
  double high = 3;        // Highest price
  double low = 4;         // Lowest price
  double close = 5;       // Closing price
  int64 volume = 6;       // Trading volume
}

// Represents historical K-line data for a stock over a specific interval.
message HistoricalKLine {
  string symbol = 1;      // The symbol of the stock
  enum Interval {
    INTERVAL_UNSPECIFIED = 0;
    INTERVAL_DAILY = 1;
    INTERVAL_WEEKLY = 2;
    INTERVAL_MONTHLY = 3;
  }
  Interval interval = 2; // The time interval for the K-line data
  repeated KLineData k_lines = 3; // List of K-line data points
}

// Represents key valuation metrics for a company.
message CompanyValuation {
  double ps_ratio = 1; // Price-to-Sales Ratio
  double pe_ratio = 2; // Price-to-Earnings Ratio
  double pb_ratio = 3; // Price-to-Book Ratio
  // Add more valuation metrics as needed
}

// Represents key financial indicators for a company.
message FinancialIndicators {
  double eps = 1;              // Earnings Per Share
  double fcf = 2;              // Free Cash Flow
  double current_ratio = 3;    // Current Ratio
  double roe = 4;              // Return on Equity
  // Add more financial indicators as needed
}

// Represents earning data for a company.
message EarningData {
  int64 fiscal_date_end = 1; // Unix timestamp of the fiscal period end date
  double reported_eps = 2;   // Reported EPS
  double estimated_eps = 3;  // Estimated EPS
  // Add more earning-related data as needed
}

// Represents detailed company information (F10 data).
message CompanyInfo {
  string symbol = 1;                 // Stock ticker symbol
  string description = 2;            // Brief company description
  string sector = 3;                 // Industry sector
  string industry = 4;               // Specific industry
  CompanyValuation valuation = 5;    // Valuation metrics
  FinancialIndicators indicators = 6; // Financial indicators
  repeated EarningData earnings = 7; // List of earning reports
  // Placeholder for operating data and revenue breakdown, which might need
  // more complex structures or separate messages later.
  // Add other F10 data fields as needed.
}
